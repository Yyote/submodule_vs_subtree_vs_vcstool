# README 

Этот репозиторий иллюстрирует применение различных подходов к отслеживанию историй составных репозиториев.

## submodules

В текущей ветке представлен вариант использования субмодулей для составного репозитория.

### Плюсы

#### 1. Явная и жесткая привязка к выбранному коммиту/тегу/ветке в репозитории

Когда вы выполняете checkout в какой-то коммит в dependency, вы меняете состояние родительского репозитория, что проявится, как только в родительском репозитории будет прописан git status. 

Вывод будет следующим:

```bash
On branch submodule
Your branch is up to date with 'origin/submodule'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   src/dependency (new commits)
```

Это показывает, что HEAD dependency и коммит, который ожидаются родительским репозиторием отличаются и нужно либо онбовить привязку в родительском репозитории, либо вернуть dependency в ожидаемое состояние. 

Чтобы вернуть dependency в ожидаемое состояние, можно выполнить команду
```bash
git submodule update src/dependency # Приводит файлы src/dependency в соответствие с ожидаемым коммитом
```

#### 2. Трекинг веток

Можно настроить submodule трекать ветку - https://stackoverflow.com/questions/1777854/how-can-i-specify-a-branch-tag-when-adding-a-git-submodule
но работает это странным образом.


Вам нужно самостоятельно проверить и подтянуть необходимые изменения:

```bash
git submodule update --remote src/dependency
```

При этом если изменения есть и они подтянулись, dependency снова получает состояние, которое не ожидается родительским репозиторием.

### Минусы

#### 1. Невероятно громоздкая система управления подерпозиториями

Очень много тонкостей сложностей, которые в случае увеличения числа зависимостей вызовут огромную административную нагрузку.

