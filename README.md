# README 

Этот репозиторий иллюстрирует применение различных подходов к отслеживанию историй составных репозиториев.

## vcstool

vcstool - это программа для управления различными репозиториями, которые могут использовать различные системы контроля версий. 

Принципиально похожа на submodule, но намного проще в использовании.

### Плюсы

#### 1. Простая в использовании

Зависимости указываются в `*.repos` файле в формате yaml. Вот пример: 

```yaml
repositories:
  src/dependency: # Здесь можно указать любой путь и/или конечное имя репозитория
    type: git
    url: git@github.com:Yyote/dependency.git
    version: master
```

Обычно `*.repos` помещается в корень проекта, но это необязательно. Так же важно отметить, что в зависимости от задач, можно использовать несколько разных файлов `*.repos`.

При клонировании репозитория, зависимости нужно импортировать вручную командой (на примере нашего "проекта"):
```bash
vcs import < deps.repos
```

Так же, особенно когда много зависимостей, удобно использовать команд:
```bash
vcs pull src
vcs status src
```
Обе команды применят соответствующую команду к каждой директории в src (нерекурсивно).

Ну и выбор версии зависимости производится простой заменой version в `deps.repos`:

```yaml
repositories:
  src/dependency: # Здесь можно указать любой путь и/или конечное имя репозитория
    type: git
    url: git@github.com:Yyote/dependency.git
    version: master
  src/dependency2: # Здесь можно указать любой путь и/или конечное имя репозитория
    type: git
    url: git@github.com:Yyote/dependency.git
    version: a0b367b43b712e15ae1a37a32d738e85e96f7d16 # a full commit SHA of https://github.com/Yyote/dependency/commit/a0b367b43b712e15ae1a37a32d738e85e96f7d16
```

### Минусы

#### 1. Нужно вручную отправлять все изменения, произведенные в зависимостях

Каждый из репозиториев-зависимостей - самый обычный самостоятельный репозиторий. В этом смысле при большом количестве зависимостей иногда довольно муторно отправлять и синхронизировать все внесенные изменения в разных зависимостях. Особенно если все они касаются какой-то определенной версии проекта.

### Общее мнение

Удобная и надежная вещь. Применял ее в больших проектах, показала себя как простой и понятный всем инструмент.
